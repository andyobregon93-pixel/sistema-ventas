<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sistema Grupo Privado</title>

<style>
:root{
  --azul:#1e3c72;
  --azul2:#2a5298;
  --rojo:#c0392b;
  --verde:#27ae60;
  --gris:#f4f6f9;
}

body{
  margin:0;
  font-family:'Segoe UI', Arial, sans-serif;
  background:linear-gradient(to bottom,var(--azul),var(--azul2));
}

.toast{
  position:fixed;
  top:20px;
  right:20px;
  background:var(--verde);
  color:white;
  padding:15px 25px;
  border-radius:12px;
  font-weight:600;
  opacity:0;
  transform:translateY(-20px);
  transition:0.3s;
  z-index:999;
}
.toast.show{ opacity:1; transform:translateY(0); }

.layout{ display:flex; min-height:100vh; }

.sidebar{
  width:280px;
  background:rgba(0,0,0,0.6);
  color:white;
  padding:25px;
  display:flex;
  flex-direction:column;
}

.sidebar h2{ text-align:center; margin-bottom:20px; }

.sidebar button{
  margin:6px 0;
  padding:12px;
  border:none;
  border-radius:10px;
  background:var(--azul2);
  color:white;
  cursor:pointer;
}

.logout{ background:var(--rojo) !important; margin-top:auto; }

.content{ flex:1; background:var(--gris); padding:40px; }

.card{
  background:white;
  padding:25px;
  border-radius:15px;
  box-shadow:0 8px 20px rgba(0,0,0,0.08);
  margin-bottom:25px;
}

input,select{
  width:100%;
  padding:12px;
  margin:8px 0;
  border-radius:10px;
  border:1px solid #ddd;
}

table{
  width:100%;
  border-collapse:collapse;
  background:white;
}

th{
  background:var(--azul2);
  color:white;
  padding:12px;
}

td{
  padding:10px;
  border-bottom:1px solid #eee;
  text-align:center;
}
</style>
</head>

<body>

<div id="toast" class="toast"></div>

<div id="loginBox" style="max-width:400px;margin:120px auto;background:white;padding:30px;border-radius:15px;">
<h2>Login</h2>
<input type="email" id="email" placeholder="Email">
<input type="password" id="password" placeholder="Contraseña">
<button onclick="login()">Ingresar</button>
</div>

<div class="layout" id="app" style="display:none;">

<aside class="sidebar">
<h2>SISTEMA</h2>
<p><strong>Usuario:</strong> <span id="infoUsuario"></span></p>
<p><strong>Rol:</strong> <span id="infoRol"></span></p>

<button id="btnAdmin" onclick="mostrar('adminPanel')">Administración</button>
<button onclick="mostrar('cuentasPanel')">Registrar</button>
<button onclick="mostrar('historialPanel')">Historial</button>
<button id="btnResumen" onclick="mostrar('resumenPanel')">Resumen</button>

<button class="logout" onclick="logout()">Cerrar sesión</button>
</aside>

<main class="content">

<section id="adminPanel" style="display:none;">
<h2>Administración</h2>

<div class="card">
<h3>Crear Usuario</h3>
<input type="email" id="nuevoEmail" placeholder="Correo del usuario">
<input type="password" id="nuevoPassword" placeholder="Contraseña">
<select id="nuevoRol">
<option value="usuario">Usuario</option>
<option value="admin">Administrador</option>
</select>

<h4>Permisos</h4>
<label><input type="checkbox" id="permCrear"> Puede registrar</label><br>
<label><input type="checkbox" id="permEliminar"> Puede eliminar</label><br>
<label><input type="checkbox" id="permVerTodo"> Puede ver todo</label><br>
<label><input type="checkbox" id="permResumen"> Puede ver resumen</label><br>

<button onclick="crearUsuario()">Crear Usuario</button>
</div>

<div class="card">
<h3>Plataformas</h3>
<input type="text" id="nuevaPlataforma" placeholder="Nueva plataforma">
<button onclick="agregarPlataforma()">Agregar</button>
<ul id="listaPlataformas"></ul>
</div>

<div class="card">
<h3>Administradores que ayudan</h3>
<input type="text" id="nuevoAdminAyuda" placeholder="Nuevo administrador">
<button onclick="agregarAdminAyuda()">Agregar</button>
<ul id="listaAdmins"></ul>
</div>
</section>

<section id="cuentasPanel" style="display:none;">
<h2>Registrar Activación</h2>
<div class="card">
<select id="plataformaSelect"></select>
<select id="adminAyudaSelect"></select>
<input type="text" id="nombreMiembro" placeholder="Nombre del miembro">
<button id="btnGuardar" onclick="guardarCuenta()">Guardar</button>
</div>
</section>

<section id="historialPanel" style="display:none;">
<h2>Historial</h2>
<table>
<thead>
<tr>
<th>Plataforma</th>
<th>Miembro</th>
<th>Admin</th>
<th>Usuario</th>
<th>Fecha</th>
<th>Acción</th>
</tr>
</thead>
<tbody id="tablaHistorial"></tbody>
</table>
</section>

<section id="resumenPanel" style="display:none;">
<h2>Resumen y Ranking</h2>
<div class="card">
<select id="filtroTiempo" onchange="aplicarFiltro()">
<option value="semana">Esta Semana</option>
<option value="mes">Este Mes</option>
<option value="personalizado">Rango Personalizado</option>
</select>

<div id="rangoPersonalizado" style="display:none;">
<input type="date" id="fechaInicio">
<input type="date" id="fechaFin">
<button onclick="aplicarFiltro()">Aplicar</button>
</div>

<hr>
<div id="resumenAyudas"></div>
</div>
</section>

</main>
</div>